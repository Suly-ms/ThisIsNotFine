<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emails Acceptés - This Is (Not) Fine</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <h1>This Is (Not) Fine</h1>
        <br>
        <nav>
            <a href="/">Accueil</a>
            <a href="/profile.html">Mon Profil</a>
            <a href="/search.html">Rechercher</a>
            <a href="/about.html">À Propos</a>
            <a class="btnDeconnexion" href="/api/logout">Déconnexion</a>
        </nav>
    </header>
    <main>
        <div class="container">
            <h2>Établissements autorisés</h2>
            <p>
                Pour garantir la fiabilité de la plateforme, l'inscription est réservée aux étudiants disposant d'une
                adresse email institutionnelle reconnue.
                <br>
                Voici la liste des domaines actuellement acceptés :
            </p>

            <input type="text" id="domainSearch" class="search-box" placeholder="Rechercher votre école ou domaine (ex: unistra)...">

            <div id="domainsContainer">
                <h3 class="domain-category">Universités</h3>
                <div class="domain-list">
                    <div class="domain-item">@etu.unistra.fr</div>
                    <div class="domain-item">@unistra.fr</div>
                    <div class="domain-item">@etu.sorbonne-universite.fr</div>
                    <div class="domain-item">@sorbonne-universite.fr</div>
                    <div class="domain-item">@etu.u-paris.fr</div>
                    <div class="domain-item">@etu.univ-lyon1.fr</div>
                    <div class="domain-item">@etu.univ-lyon2.fr</div>
                    <div class="domain-item">@etu.univ-lyon3.fr</div>
                    <div class="domain-item">@etu.univ-amu.fr</div>
                    <div class="domain-item">@etu.u-bordeaux.fr</div>
                    <div class="domain-item">@etu.univ-lille.fr</div>
                    <div class="domain-item">@etu.univ-nantes.fr</div>
                    <div class="domain-item">@etu.univ-rennes1.fr</div>
                    <div class="domain-item">@etu.univ-rennes2.fr</div>
                    <div class="domain-item">@etu.univ-toulouse.fr</div>
                    <div class="domain-item">@etu.univ-grenoble-alpes.fr</div>
                    <div class="domain-item">@etu.univ-cotedazur.fr</div>
                    <div class="domain-item">@etu.univ-lorraine.fr</div>
                    <div class="domain-item">@etu.univ-montpellier.fr</div>
                    <div class="domain-item">@etu.unicaen.fr</div>
                    <div class="domain-item">@etu.u-picardie.fr</div>
                    <div class="domain-item">@etu.univ-poitiers.fr</div>
                    <div class="domain-item">@etu.univ-tours.fr</div>
                    <div class="domain-item">@etu.univ-orleans.fr</div>
                </div>

                <h3 class="domain-category">Écoles Tech & Informatique</h3>
                <div class="domain-list">
                    <div class="domain-item">@epitech.eu</div>
                    <div class="domain-item">@student.42.fr</div>
                    <div class="domain-item">@42.fr</div>
                    <div class="domain-item">@student.42lyon.fr</div>
                    <div class="domain-item">@student.42nice.fr</div>
                    <div class="domain-item">@supinfo.com</div>
                    <div class="domain-item">@epita.fr</div>
                    <div class="domain-item">@esiea.fr</div>
                    <div class="domain-item">@efrei.fr</div>
                    <div class="domain-item">@ece.fr</div>
                    <div class="domain-item">@etna.io</div>
                </div>

                <h3 class="domain-category">Grandes Écoles d'Ingénieurs</h3>
                <div class="domain-list">
                    <div class="domain-item">@polytechnique.edu</div>
                    <div class="domain-item">@centralesupelec.fr</div>
                    <div class="domain-item">@mines-paristech.fr</div>
                    <div class="domain-item">@telecom-paris.fr</div>
                    <div class="domain-item">@enpc.fr</div>
                    <div class="domain-item">@insa-lyon.fr</div>
                    <div class="domain-item">@insa-toulouse.fr</div>
                    <div class="domain-item">@insa-rennes.fr</div>
                    <div class="domain-item">@insa-rouen.fr</div>
                    <div class="domain-item">@insa-strasbourg.fr</div>
                    <div class="domain-item">@utbm.fr</div>
                    <div class="domain-item">@utc.fr</div>
                    <div class="domain-item">@utt.fr</div>
                    <div class="domain-item">@ens.fr</div>
                    <div class="domain-item">@arts-et-metiers.fr</div>
                </div>

                <h3 class="domain-category">Commerce & Sciences Po</h3>
                <div class="domain-list">
                    <div class="domain-item">@hec.edu</div>
                    <div class="domain-item">@essec.edu</div>
                    <div class="domain-item">@edhec.com</div>
                    <div class="domain-item">@em-lyon.com</div>
                    <div class="domain-item">@escpeurope.eu</div>
                    <div class="domain-item">@audencia.com</div>
                    <div class="domain-item">@neoma-bs.fr</div>
                    <div class="domain-item">@kedgebs.com</div>
                    <div class="domain-item">@skema.edu</div>
                    <div class="domain-item">@sciencespo.fr</div>
                    <div class="domain-item">@sciencespo-lille.eu</div>
                    <div class="domain-item">@sciencespo-lyon.fr</div>
                    <div class="domain-item">@sciencespo-bordeaux.fr</div>
                </div>
            </div>

            <p style="margin-top: 30px; border-top: 1px solid #ccc; padding-top: 10px;">
                <em>Votre école manque à l'appel ? Envoyez un mail à <a href="mailto:thisisnotfine.noreply@gmail.com">thisisnotfine.noreply@gmail.com</a> pour l'ajouter.</em>
            </p>
        </div>
    </main>

    <script>
        // Script simple pour filtrer la liste
        document.getElementById('domainSearch').addEventListener('input', function(e) {
            const searchText = e.target.value.toLowerCase();
            const items = document.querySelectorAll('.domain-item');
            
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                if (text.includes(searchText)) {
                    item.classList.remove('hidden');
                } else {
                    item.classList.add('hidden');
                }
            });

            // Masquer les catégories vides
            document.querySelectorAll('.domain-category').forEach(category => {
                const nextList = category.nextElementSibling;
                const visibleItems = nextList.querySelectorAll('.domain-item:not(.hidden)');
                if (visibleItems.length === 0) {
                    category.classList.add('hidden');
                    nextList.classList.add('hidden');
                } else {
                    category.classList.remove('hidden');
                    nextList.classList.remove('hidden');
                }
            });
        });

        // Gestion du menu admin (comme sur les autres pages)
        document.addEventListener('DOMContentLoaded', async () => {
            const nav = document.querySelector('nav');
            try {
                const meResponse = await fetch('/api/me');
                if (meResponse.ok) {
                    const me = await meResponse.json();
                    if (me.admin) {
                        const createSchoolLink = document.createElement('a');
                        createSchoolLink.href = '/create-school.html';
                        createSchoolLink.textContent = 'Créer un établissement';
                        nav.appendChild(createSchoolLink);
                    }
                }
            } catch (error) {
                console.error('Error fetching user data:', error);
            }
        });
    </script>
</body>
</html>